{"version":3,"sources":["../../src/core/login/pages/site/site.module.ts","../../src/core/login/pages/site/site.ts"],"names":[],"mappings":"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","file":"33.js","sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CoreLoginSitePage } from './site';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { CoreDirectivesModule } from '@directives/directives.module';\nimport { CoreComponentsModule } from '@components/components.module';\n\n@NgModule({\n    declarations: [\n        CoreLoginSitePage\n    ],\n    imports: [\n        CoreDirectivesModule,\n        CoreComponentsModule,\n        IonicPageModule.forChild(CoreLoginSitePage),\n        TranslateModule.forChild()\n    ]\n})\nexport class CoreLoginSitePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/login/pages/site/site.module.ts","// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, ViewChild, ElementRef } from '@angular/core';\nimport { IonicPage, NavController, ModalController, NavParams } from 'ionic-angular';\nimport { CoreAppProvider } from '@providers/app';\nimport { CoreEventsProvider } from '@providers/events';\nimport { CoreSitesProvider, CoreSiteCheckResponse } from '@providers/sites';\nimport { CoreDomUtilsProvider } from '@providers/utils/dom';\nimport { CoreUrlUtilsProvider } from '@providers/utils/url';\nimport { CoreConfigConstants } from '../../../../configconstants';\nimport { CoreLoginHelperProvider } from '../../providers/helper';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { CoreUrl } from '@classes/utils/url';\nimport { TranslateService } from '@ngx-translate/core';\n\n/**\n * Data about an error when connecting to a site.\n */\ntype CoreLoginSiteError = {\n    /**\n     * The error message that ocurred.\n     */\n    message: string;\n\n    /**\n     * URL the user entered.\n     */\n    url?: string;\n\n    /**\n     * URL the user entered with protocol added if needed.\n     */\n    fullUrl?: string;\n};\n\n/**\n * Page to enter or select the site URL to connect to.\n */\n@IonicPage({ segment: 'core-login-site' })\n@Component({\n    selector: 'page-core-login-site',\n    templateUrl: 'site.html',\n})\nexport class CoreLoginSitePage {\n\n    @ViewChild('siteFormEl') formElement: ElementRef;\n\n    siteForm: FormGroup;\n    fixedSites: any[];\n    filteredSites: any[];\n    fixedDisplay = 'buttons';\n    showKeyboard = false;\n    filter = '';\n    error: CoreLoginSiteError;\n\n    constructor(navParams: NavParams,\n            protected navCtrl: NavController,\n            fb: FormBuilder,\n            protected appProvider: CoreAppProvider,\n            protected sitesProvider: CoreSitesProvider,\n            protected loginHelper: CoreLoginHelperProvider,\n            protected modalCtrl: ModalController,\n            protected domUtils: CoreDomUtilsProvider,\n            protected eventsProvider: CoreEventsProvider,\n            protected translate: TranslateService,\n            protected urlUtils: CoreUrlUtilsProvider) {\n\n        this.showKeyboard = !!navParams.get('showKeyboard');\n\n        let url = '';\n\n        // Load fixed sites if they're set.\n        if (this.loginHelper.hasSeveralFixedSites()) {\n            this.fixedSites = <any[]> this.loginHelper.getFixedSites();\n            this.fixedDisplay = CoreConfigConstants.multisitesdisplay;\n            // Autoselect if not defined.\n            if (['list', 'listnourl', 'select', 'buttons'].indexOf(this.fixedDisplay) < 0) {\n                this.fixedDisplay = this.fixedSites.length > 8 ? 'list' : (this.fixedSites.length > 3 ? 'select' : 'buttons');\n            }\n            this.filteredSites = this.fixedSites;\n            url = this.fixedSites[0].url;\n        }\n\n        this.siteForm = fb.group({\n            siteUrl: [url, Validators.required]\n        });\n    }\n\n    /**\n     * Try to connect to a site.\n     *\n     * @param e Event.\n     * @param url The URL to connect to.\n     */\n    connect(e: Event, url: string): void {\n        e.preventDefault();\n        e.stopPropagation();\n\n        this.appProvider.closeKeyboard();\n\n        if (!url) {\n            this.domUtils.showErrorModal('core.login.siteurlrequired', true);\n\n            return;\n        }\n\n        if (!this.appProvider.isOnline()) {\n            this.domUtils.showErrorModal('core.networkerrormsg', true);\n\n            return;\n        }\n\n        url = url.trim();\n\n        if (url.match(/^(https?:\\/\\/)?campus\\.example\\.edu/)) {\n            this.showLoginIssue(null, this.translate.instant('core.login.errorexampleurl'));\n\n            return;\n        }\n\n        this.hideLoginIssue();\n\n        const modal = this.domUtils.showModalLoading(),\n            siteData = this.sitesProvider.getDemoSiteData(url);\n\n        if (siteData) {\n            // It's a demo site.\n            this.sitesProvider.getUserToken(siteData.url, siteData.username, siteData.password).then((data) => {\n                return this.sitesProvider.newSite(data.siteUrl, data.token, data.privateToken).then(() => {\n\n                    this.domUtils.triggerFormSubmittedEvent(this.formElement, true);\n\n                    return this.loginHelper.goToSiteInitialPage();\n                }, (error) => {\n                    this.loginHelper.treatUserTokenError(siteData.url, error, siteData.username, siteData.password);\n                    if (error.loggedout) {\n                        this.navCtrl.setRoot('CoreLoginSitesPage');\n                    }\n                });\n            }, (error) => {\n                this.loginHelper.treatUserTokenError(siteData.url, error, siteData.username, siteData.password);\n                if (error.loggedout) {\n                    this.navCtrl.setRoot('CoreLoginSitesPage');\n                }\n            }).finally(() => {\n                modal.dismiss();\n            });\n\n        } else {\n            // Not a demo site.\n            this.sitesProvider.checkSite(url)\n                .catch((error) => {\n                    // Attempt guessing the domain if the initial check failed\n                    const domain = CoreUrl.guessMoodleDomain(url);\n\n                    return domain ? this.sitesProvider.checkSite(domain) : Promise.reject(error);\n                })\n                .then((result) => this.login(result))\n                .catch((error) => this.showLoginIssue(url, error))\n                .finally(() => modal.dismiss());\n        }\n    }\n\n    /**\n     * The filter has changed.\n     *\n     * @param Received Event.\n     */\n    filterChanged(event: any): void {\n        const newValue = event.target.value && event.target.value.trim().toLowerCase();\n        if (!newValue || !this.fixedSites) {\n            this.filteredSites = this.fixedSites;\n        } else {\n            this.filteredSites = this.fixedSites.filter((site) => {\n                return site.name.toLowerCase().indexOf(newValue) > -1 || site.url.toLowerCase().indexOf(newValue) > -1;\n            });\n        }\n    }\n\n    /**\n     * Show a help modal.\n     */\n    showHelp(): void {\n        const modal = this.modalCtrl.create('CoreLoginSiteHelpPage');\n        modal.present();\n    }\n\n    /**\n     * Hide the login error.\n     */\n    protected hideLoginIssue(): void {\n        this.error = null;\n    }\n\n    /**\n     * Show an error that aims people to solve the issue.\n     *\n     * @param url The URL the user was trying to connect to.\n     * @param error Error to display.\n     */\n    protected showLoginIssue(url: string, error: any): void {\n        this.error = {\n            url: url,\n            message: this.domUtils.getErrorMessage(error),\n        };\n\n        if (url) {\n            this.error.fullUrl = this.urlUtils.isAbsoluteURL(url) ? url : 'https://' + url;\n        }\n    }\n\n    /**\n     * Process login to a site.\n     *\n     * @param response Response obtained from the site check request.\n     *\n     * @return Promise resolved after logging in.\n     */\n    protected async login(response: CoreSiteCheckResponse): Promise<void> {\n        return this.sitesProvider.checkRequiredMinimumVersion(response.config).then(() => {\n\n            this.domUtils.triggerFormSubmittedEvent(this.formElement, true);\n\n            if (response.warning) {\n                this.domUtils.showErrorModal(response.warning, true, 4000);\n            }\n\n            if (this.loginHelper.isSSOLoginNeeded(response.code)) {\n                // SSO. User needs to authenticate in a browser.\n                this.loginHelper.confirmAndOpenBrowserForSSOLogin(\n                    response.siteUrl, response.code, response.service, response.config && response.config.launchurl);\n            } else {\n                this.navCtrl.push('CoreLoginCredentialsPage', { siteUrl: response.siteUrl, siteConfig: response.config });\n            }\n        }).catch(() => {\n            // Ignore errors.\n        });\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/login/pages/site/site.ts"],"sourceRoot":""}